
MARVIM - MAcro Repository for VIM
"Freeze? I'm a robot. I'm not a refrigerator" - Marvin the Paranoid Android
http://chamindra.googlepages.com/marvim

Description: Macro and Template saving, lookup and launch script for VIM. 
Version:     0.2 Alpha
Date:        15 FEB 2008
Copyright:   Chamindra de Silva 
License:     GPL v2

Justification: Helps us VIM users to store complex VIM macros 
and templates into persistent storage for future search and load.

Features:

    * Recording of VIM macros into persistent storage for future use
    * Quick search based recall and load of stored VIM macros
    * Visually select and save templates into persistent storage
    * Quick search based insert of stored templates
    * Recursive search of macro repository directories 
    * Cross share your macros with other users by copying repositories 
    * Macro menu items for all main actions

Installation
------------

o Download Marvim to your VIM plugin ($VIMRUNTIME/plugin) directory 
  or source it explicity. Below is an example if you place it in 
  the home directory

  source $HOME/marvim.vim 

o Start vim and this will automatically create the base marvim macro 
  repository in your home directory. Based on the OS it will be 
  located as follows:

  UNIX      ~/.marvim  
  WINDOWS   C:\Document and Settings\Username\marvim 

o (optional) Copy predefined macro/template directories into the base 
  marvin macro directory. Marvim uses recursive directory search so 
  you can nest the directories as you wish.

o (optional) if you want to change the default hotkeys see below
       
Default Hotkeys
---------------
  <F2>        - Find and execute a macro or insert template from repository
  Visual <F2> - Replays last macro for each line selected
  <F3>        - Save default macro register by name to the macro repository 
  Visual <F3> - Save selection as template by name to the macro repository 

Changing the default hotkeys and register
-----------------------------------------
Place the following lines in your vimrc before the location you source
the marvim.vim script. Below is an example:

  let marvim_find_key = '<Space>'
  let marvim_store_key = 'ms'
  let marvim_register = 'c'
  source $HOME/marvim.vim   " omit if marvim.vim is in the plugin dir

Tips
----
 o <Space> can be very effective as the macro find key
 o use a naming convention for your macros to make it easy to find. e.g.:

   php-if-block
   php-strip-tags
   php-mysql-select-block
   php-mysql-update-block

Change Log
----------
v0.1.1
- Made script windows compatible
- Makes the macro home directory if it does not exist
- Recursively looks up base repository subdirectories for macros
- Creates a macro menu for the GUI versions
- Changed defauly macro input register to q
- Made it easy to define configuration details in vimrc
- Abstracted hotkeys so that they can be defined in the vimrc easily
- Fixed the breaking on spaces in directory paths
- Changed template extension to mvt for ease
- Changed naming conventions to avoid namespace conflict
v0.1
- Platform independant script (almost ;-)
- recording of vim version with macro 
- redefinition of macro_home and macro_register

Todo
- check vim version number when running macro

